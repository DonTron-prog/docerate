{% extends "base.html" %}

{% block title %}Tags - {{ site.title }}{% endblock %}

{% block content %}
<div class="container">
    <h1>Tags</h1>
    <p>Browse posts by topic</p>
    
    <div class="tags-cloud">
        {% for tag, posts in tags.items() | sort %}
            <a href="/tags/{{ tag }}.html" class="tag-item">
                <span class="tag-name">{{ tag }}</span>
                <span class="tag-count">({{ posts | length }})</span>
            </a>
        {% endfor %}
    </div>
    
    <h2>All Tags</h2>
    <div class="tags-list">
        {% for tag, posts in tags.items() | sort %}
            <div class="tag-section">
                <h3 id="{{ tag }}">{{ tag }} <span class="post-count">({{ posts | length }} post{{ 's' if posts | length != 1 else '' }})</span></h3>
                <ul>
                    {% for post in posts | sort(attribute='metadata.date', reverse=True) %}
                        <li>
                            <span class="date">{{ post.metadata.date.strftime('%Y-%m-%d') }}</span> - 
                            <a href="{{ post.url }}">{{ post.metadata.title }}</a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% endfor %}
    </div>
</div>

<style>
.tags-cloud {
    margin: 2rem 0;
    padding: 2rem;
    background-color: var(--code-bg);
    border-radius: 5px;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
}

.tag-item {
    display: inline-flex;
    align-items: center;
    padding: 0.5rem 1rem;
    background-color: var(--tag-bg);
    color: var(--tag-color);
    text-decoration: none;
    border-radius: 5px;
    transition: all 0.2s ease;
}

.tag-item:hover {
    background-color: var(--tag-hover-bg);
    transform: translateY(-2px);
}

.tag-name {
    font-weight: 500;
}

.tag-count {
    margin-left: 0.5rem;
    opacity: 0.8;
    font-size: 0.9em;
}

.tags-list {
    margin-top: 3rem;
}

.tag-section {
    margin-bottom: 2rem;
}

.tag-section h3 {
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
}

.post-count {
    font-size: 0.8em;
    font-weight: normal;
    color: var(--muted-color);
}

.tag-section ul {
    list-style: none;
    padding-left: 0;
}

.tag-section li {
    margin-bottom: 0.5rem;
    padding-left: 1rem;
}

.tag-section .date {
    color: var(--muted-color);
    font-family: monospace;
    font-size: 0.9em;
}
</style>
{% endblock %}